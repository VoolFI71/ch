# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–≥—Ä—ã –≤ —à–∞—Ö–º–∞—Ç—ã –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### ‚úÖ –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **Backend:**
   - WebSocket endpoint –¥–ª—è –∏–≥—Ä—ã (`/ws/games/{game_id}`)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ö–æ–¥–æ–≤ —á–µ—Ä–µ–∑ `GameService.make_move()`
   - Broadcast —Ö–æ–¥–æ–≤ –≤—Å–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–º –∏–≥—Ä–æ–∫–∞–º
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ö–æ–¥–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏–≥—Ä—ã (CREATED, ACTIVE, FINISHED)

2. **Frontend:**
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —à–∞—Ö–º–∞—Ç–Ω–æ–π –¥–æ—Å–∫–∏ —Å SVG —Ñ–∏–≥—É—Ä–∞–º–∏
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ –ø–æ –∫–ª–µ—Ç–∫–∞–º (`handleSquareClick`)
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–µ–≥–∞–ª—å–Ω—ã—Ö —Ö–æ–¥–æ–≤ (`ChessMoveUtils.generateMoves`)
   - WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —Ö–æ–¥–æ–≤ —á–µ—Ä–µ–∑ WebSocket

### ‚ùå –ü—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ñ–∏–≥—É—Ä—É –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ö–æ–¥—ã
2. –í–æ–∑–º–æ–∂–Ω–æ, `updateLegalMoves()` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ –Ω—É–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç
3. –í–æ–∑–º–æ–∂–Ω–æ, `legalMovesByFrom` –Ω–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –ø—Ä–æ–±–ª–µ–º

#### 1.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ª–µ–≥–∞–ª—å–Ω—ã—Ö —Ö–æ–¥–æ–≤
**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `updateLegalMoves()` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `ChessMoveUtils.generateMoves()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `state.legalMovesByFrom` –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `getCurrentUserRole()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ä–æ–ª—å

**–§–∞–π–ª—ã:**
- `backend/web/scripts/match.js` - —Ñ—É–Ω–∫—Ü–∏—è `updateLegalMoves()`
- `backend/web/scripts/chess-move-utils.js` - —Ñ—É–Ω–∫—Ü–∏—è `generateMoves()`

#### 1.2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ö–æ–¥–æ–≤
**–ó–∞–¥–∞—á–∏:**
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `handleSquareClick()` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–ª–∏–∫ –Ω–∞ —Ñ–∏–≥—É—Ä—É
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `state.availableTargets` –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ñ–∏–≥—É—Ä—ã
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `renderBoard()` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Ö–æ–¥–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —Ñ–∏–≥—É—Ä—É

**–§–∞–π–ª—ã:**
- `backend/web/scripts/match.js` - —Ñ—É–Ω–∫—Ü–∏–∏ `handleSquareClick()`, `renderBoard()`
- `backend/web/styles/chess-board.css` - —Å—Ç–∏–ª–∏ –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ —Ö–æ–¥–æ–≤

#### 1.3. –£–ª—É—á—à–µ–Ω–∏–µ UX –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ñ–∏–≥—É—Ä—ã
**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å hover-—ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è —Ñ–∏–≥—É—Ä, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫—É—Ä—Å–æ—Ä `pointer` –¥–ª—è —Ñ–∏–≥—É—Ä —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É "–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–≥—É—Ä—É" –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –ø—Ä–∏ –≤—ã–¥–µ–ª–µ–Ω–∏–∏ —Ñ–∏–≥—É—Ä—ã

**–§–∞–π–ª—ã:**
- `backend/web/styles/chess-board.css` - —Å—Ç–∏–ª–∏ –¥–ª—è hover —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- `backend/web/scripts/match.js` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ hover —Å–æ–±—ã—Ç–∏–π

---

### –≠—Ç–∞–ø 2: –£–ª—É—á—à–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–æ—Å–∫–∏

#### 2.1. Drag & Drop –¥–ª—è —Ñ–∏–≥—É—Ä
**–ó–∞–¥–∞—á–∏:**
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å drag & drop –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —Ñ–∏–≥—É—Ä
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏
- [ ] –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ö–æ–¥ –ø—Ä–∏ –æ—Ç–ø—É—Å–∫–∞–Ω–∏–∏ —Ñ–∏–≥—É—Ä—ã
- [ ] –û—Ç–º–µ–Ω—è—Ç—å —Ö–æ–¥, –µ—Å–ª–∏ –æ–Ω –Ω–µ–≤–∞–ª–∏–¥–µ–Ω

**–§–∞–π–ª—ã:**
- `backend/web/scripts/match.js` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ drag & drop —Å–æ–±—ã—Ç–∏–π
- `backend/web/styles/chess-board.css` - —Å—Ç–∏–ª–∏ –¥–ª—è drag & drop

#### 2.2. –£–ª—É—á—à–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ö–æ–¥–æ–≤
**–ó–∞–¥–∞—á–∏:**
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–¥–µ–ª–∞–Ω–Ω—ã–π —Ö–æ–¥ (—É–∂–µ –µ—Å—Ç—å, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)
- [ ] –ü–æ–¥—Å–≤–µ—á–∏–≤–∞—Ç—å —Ñ–∏–≥—É—Ä—É, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ–¥ —à–∞—Ö–æ–º
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ö–æ–¥—ã –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —Ñ–∏–≥—É—Ä—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —Ñ–∏–≥—É—Ä—ã

**–§–∞–π–ª—ã:**
- `backend/web/scripts/match.js` - –ª–æ–≥–∏–∫–∞ –ø–æ–¥—Å–≤–µ—Ç–∫–∏
- `backend/web/styles/chess-board.css` - —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π

#### 2.3. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ö–æ–¥–æ–≤
**–ó–∞–¥–∞—á–∏:**
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–æ–∫–∏—Ä–æ–≤–∫–∏ (–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫–æ—Ä–æ–ª—è –∏ –ª–∞–¥—å–∏)
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–∑—è—Ç–∏—è –Ω–∞ –ø—Ä–æ—Ö–æ–¥–µ (en passant)
- [ ] –î–∏–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞ —Ñ–∏–≥—É—Ä—ã –ø—Ä–∏ –ø—Ä–æ–º–æ—Ü–∏–∏ –ø–µ—à–∫–∏
- [ ] –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —à–∞—Ö–∞ –∏ –º–∞—Ç–∞

**–§–∞–π–ª—ã:**
- `backend/web/scripts/match.js` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ö–æ–¥–æ–≤
- `backend/web/styles/chess-board.css` - —Å—Ç–∏–ª–∏ –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

---

### –≠—Ç–∞–ø 3: –£–ª—É—á—à–µ–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞

#### 3.1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
**–ó–∞–¥–∞—á–∏:**
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö —Ö–æ–¥–∞—Ö
- [ ] –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å —Ö–æ–¥—ã –≤–Ω–µ –æ—á–µ—Ä–µ–¥–∏
- [ ] –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ WebSocket
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–§–∞–π–ª—ã:**
- `backend/web/scripts/match.js` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- `backend/web/scripts/games.js` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ WebSocket –æ—à–∏–±–æ–∫

#### 3.2. –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
**–ó–∞–¥–∞—á–∏:**
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ö–æ–¥–∞
- [ ] –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å–∫—É –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ö–æ–¥–∞
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–µ–π—Å—Ç–≤–∏—è—Ö —Å–æ–ø–µ—Ä–Ω–∏–∫–∞
- [ ] –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Ö–æ–¥–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

**–§–∞–π–ª—ã:**
- `backend/web/scripts/match.js` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∑–∞–≥—Ä—É–∑–∫–∏
- `backend/web/match.html` - UI —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

#### 3.3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–π
**–ó–∞–¥–∞—á–∏:**
- [ ] –ö–Ω–æ–ø–∫–∞ "–°–¥–∞—Ç—å—Å—è" (—É–∂–µ –µ—Å—Ç—å, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)
- [ ] –ö–Ω–æ–ø–∫–∞ "–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –Ω–∏—á—å—é"
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–π–º-–∞—É—Ç–æ–≤
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–≥—Ä—ã

**–§–∞–π–ª—ã:**
- `backend/web/scripts/match.js` - —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–π
- `backend/web/match.html` - –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

### –≠—Ç–∞–ø 4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### 4.1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –¥–æ—Å–∫–∏
**–ó–∞–¥–∞—á–∏:**
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ —Ö–æ–¥–æ–≤
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫—É –¥–æ—Å–∫–∏ (–ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –∫–ª–µ—Ç–∫–∏)
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ª–µ–≥–∞–ª—å–Ω—ã—Ö —Ö–æ–¥–æ–≤
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å DOM

**–§–∞–π–ª—ã:**
- `backend/web/scripts/match.js` - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è `renderBoard()`

#### 4.2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è WebSocket
**–ó–∞–¥–∞—á–∏:**
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –æ–±—Ä—ã–≤–µ —Å–≤—è–∑–∏
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- [ ] –°–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–µ—Ä–∂–µ–∫ —Å–µ—Ç–∏

**–§–∞–π–ª—ã:**
- `backend/web/scripts/match.js` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ WebSocket
- `games_service/app/routers/game_ws.py` - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

---

### –≠—Ç–∞–ø 5: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### 5.1. –ê–Ω–∞–ª–∏–∑ –ø–æ–∑–∏—Ü–∏–∏
**–ó–∞–¥–∞—á–∏:**
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—Ü–µ–Ω–∫—É –ø–æ–∑–∏—Ü–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å AI)
- [ ] –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ª—É—á—à–∏—Ö —Ö–æ–¥–æ–≤
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —É–≥—Ä–æ–∑—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- [ ] –ê–Ω–∞–ª–∏–∑ —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**–§–∞–π–ª—ã:**
- –ù–æ–≤—ã–π –º–æ–¥—É–ª—å `backend/web/scripts/chess-analysis.js`

#### 5.2. –†–µ–∂–∏–º –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
**–ó–∞–¥–∞—á–∏:**
- [ ] –†–µ–∂–∏–º –¥–ª—è –∑—Ä–∏—Ç–µ–ª–µ–π (–±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–µ–ª–∞—Ç—å —Ö–æ–¥—ã)
- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ö–æ–¥–∞–º
- [ ] –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–º–æ—Ç–∫–∏ –∏–≥—Ä—ã
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –ø–∞—Ä—Ç–∏–∏ –≤ PGN

**–§–∞–π–ª—ã:**
- `backend/web/scripts/match.js` - —Ä–µ–∂–∏–º –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
- `backend/web/scripts/pgn-export.js` - —ç–∫—Å–ø–æ—Ä—Ç PGN

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### üî¥ –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∏–≥—Ä—ã):
1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ö–æ–¥–æ–≤** - –±–µ–∑ —ç—Ç–æ–≥–æ –∏–≥—Ä–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞
2. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–µ–≥–∞–ª—å–Ω—ã—Ö —Ö–æ–¥–æ–≤** - –æ—Å–Ω–æ–≤–∞ –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è** - –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏–≥—Ä—ã

### üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—É–ª—É—á—à–∞–µ—Ç UX):
1. **Drag & Drop –¥–ª—è —Ñ–∏–≥—É—Ä** - –±–æ–ª–µ–µ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
2. **–£–ª—É—á—à–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ö–æ–¥–æ–≤** - –ª—É—á—à–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ö–æ–¥–æ–≤** - –ø–æ–ª–Ω–æ—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### üü¢ –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (nice to have):
1. **–ê–Ω–∞–ª–∏–∑ –ø–æ–∑–∏—Ü–∏–∏** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
2. **–†–µ–∂–∏–º –Ω–∞–±–ª—é–¥–µ–Ω–∏—è** - –¥–ª—è –∑—Ä–∏—Ç–µ–ª–µ–π
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö–æ–¥–æ–≤:
```javascript
{
  from: "e2",      // –ö–ª–µ—Ç–∫–∞ –æ—Ç–∫—É–¥–∞
  to: "e4",        // –ö–ª–µ—Ç–∫–∞ –∫—É–¥–∞
  base: "e2e4",    // –ë–∞–∑–æ–≤—ã–π UCI —Ö–æ–¥
  promotion: null  // –ü—Ä–æ–º–æ—Ü–∏—è (q, r, b, n) –∏–ª–∏ null
}
```

### –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã:
```javascript
{
  selectedSquare: "e2",           // –í—ã–±—Ä–∞–Ω–Ω–∞—è –∫–ª–µ—Ç–∫–∞
  availableTargets: Set(["e3", "e4"]), // –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ö–æ–¥—ã
  legalMovesByFrom: Map([          // –í—Å–µ –ª–µ–≥–∞–ª—å–Ω—ã–µ —Ö–æ–¥—ã –ø–æ –∫–ª–µ—Ç–∫–∞–º
    ["e2", [{from: "e2", to: "e3", ...}, ...]],
    ...
  ])
}
```

### WebSocket —Å–æ–æ–±—â–µ–Ω–∏—è:
- `state` - –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
- `move_made` - —Å–¥–µ–ª–∞–Ω —Ö–æ–¥
- `game_finished` - –∏–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- `move_rejected` - —Ö–æ–¥ –æ—Ç–∫–ª–æ–Ω–µ–Ω
- `error` - –æ—à–∏–±–∫–∞

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- [ ] –ö–ª–∏–∫ –Ω–∞ —Ñ–∏–≥—É—Ä—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ö–æ–¥—ã
- [ ] –ö–ª–∏–∫ –Ω–∞ –≤–æ–∑–º–æ–∂–Ω—ã–π —Ö–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ö–æ–¥
- [ ] –•–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ WebSocket
- [ ] –°–æ–ø–µ—Ä–Ω–∏–∫ –≤–∏–¥–∏—Ç —Å–¥–µ–ª–∞–Ω–Ω—ã–π —Ö–æ–¥
- [ ] –ù–µ–ª—å–∑—è —Ö–æ–¥–∏—Ç—å –≤–Ω–µ –æ—á–µ—Ä–µ–¥–∏
- [ ] –ù–µ–ª—å–∑—è —Ö–æ–¥–∏—Ç—å —Ñ–∏–≥—É—Ä–∞–º–∏ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç —Ä–æ–∫–∏—Ä–æ–≤–∫–∞
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç –≤–∑—è—Ç–∏–µ –Ω–∞ –ø—Ä–æ—Ö–æ–¥–µ
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–º–æ—Ü–∏—è –ø–µ—à–∫–∏
- [ ] –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —à–∞—Ö –∏ –º–∞—Ç
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç —Å–¥–∞—á–∞ –ø–∞—Ä—Ç–∏–∏
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–π–º–µ—Ä

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—á–∞—Ç—å —Å –≠—Ç–∞–ø–∞ 1.1** - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ö–æ–¥–æ–≤
2. **–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞
3. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–∑–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö —Ñ–∏—á
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–π –∏–≥—Ä–µ** –º–µ–∂–¥—É –¥–≤—É–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

